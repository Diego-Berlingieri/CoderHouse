(this["webpackJsonpch-react-app"]=this["webpackJsonpch-react-app"]||[]).push([[0],{53:function(t,e,c){},69:function(t,e,c){},70:function(t,e,c){},72:function(t,e,c){},80:function(t,e,c){},81:function(t,e,c){},82:function(t,e,c){},83:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c.n(a),r=c(25),i=c.n(r),s=(c(69),c(11)),o=c(9),j=c(54),l=c(55),b=c(64),d=c(62),u=c(91),O=c(93),x=c(90),h=(c(70),c.p+"static/media/mello-logo.2fc0f693.svg"),m=c(63),f=c(18),p=c(2),g=n.a.createContext();function v(t){var e=Object(a.useState)([]),c=Object(f.a)(e,2),n=c[0],r=c[1];return Object(p.jsx)(g.Provider,{value:{cart:n,setCart:r,clearCart:function(){console.log("CartContext - clearing cart"),r([])},removeItem:function(t){console.log("CartContext - removeItem");for(var e=[],c=0;c<n.length;c++)n[c].Item.id!==t&&e.push(n[c]);r(e)},addItem:function(t,e){for(var c=0;c<n.length;c++)if(n[c].Item.id===t.id)return void(n[c].qtyBuy=n[c].qtyBuy+e);r([].concat(Object(m.a)(n),[{Item:t,qtyBuy:e}]))},getCartTotals:function(){for(var t=0,e=0,c=0;c<n.length;c++)e+=n[c].Item.price*n[c].qtyBuy,t+=n[c].qtyBuy;return{total:e,qty:t}}},children:t.children})}c(72);var y=function(){var t=Object(a.useContext)(g).getCartTotals;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.b,{to:t().qty>0?"/cart/":"#",className:t().qty>0?"cartQty":"disabledCart",children:[t().qty," items",Object(p.jsx)("i",{className:"fas fa-shopping-cart"})]})})},I=function(t){Object(b.a)(c,t);var e=Object(d.a)(c);function c(){return Object(j.a)(this,c),e.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(p.jsxs)(u.a,{bg:"dark",expand:"sm",variant:"dark",fixed:"top",children:[Object(p.jsxs)(u.a.Brand,{as:s.b,to:"/",children:[Object(p.jsx)("img",{src:h,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"}),"MELLO"]}),Object(p.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(p.jsxs)(O.a,{className:"mr-auto",children:[Object(p.jsxs)(x.a,{title:"Products",id:"basic-nav-dropdown",children:[Object(p.jsx)(x.a.Item,{as:s.b,to:"/itemList/YkySayoe2bOPZOJOESaX",children:"Woman"}),Object(p.jsx)(x.a.Item,{as:s.b,to:"/itemList/GLwUh5g2YwhJWCvQH9S3",children:"Man"}),Object(p.jsx)(x.a.Item,{as:s.b,to:"/itemList/iLLAVMN3YiEgF3EGNex8",children:"Kids"}),Object(p.jsx)(x.a.Divider,{}),Object(p.jsx)(x.a.Item,{as:s.b,to:"/itemList",children:"All"})]}),Object(p.jsx)(O.a.Link,{as:s.b,to:"/AboutUs",children:"About Us"})]}),Object(p.jsx)(y,{})]})]})}}]),c}(a.Component),C=c(43),k=c(42),T=c(51),N=(c(84),T.a.initializeApp({apiKey:"AIzaSyDLJBCwL-TKgATNGc6T2s2cveKqSJD9kAE",authDomain:"diegoberlingieri-77aa6.firebaseapp.com",projectId:"diegoberlingieri-77aa6",storageBucket:"diegoberlingieri-77aa6.appspot.com",messagingSenderId:"169923766283",appId:"1:169923766283:web:7377f17cf98b7fe298ff0e"}));function S(){return T.a.firestore(N)}c(80);var B=c(89),E=c(61),q=c(17),A=function(t){var e=t.item;return Object(p.jsxs)(q.a,{style:{width:"18rem",marginTop:"20px"},children:[Object(p.jsx)(s.b,{to:"/itemDetail/"+e.id,children:Object(p.jsx)(q.a.Img,{variant:"top",src:""+e.pictureUrl})}),Object(p.jsxs)(q.a.Body,{children:[Object(p.jsx)(q.a.Title,{children:e.title}),Object(p.jsx)(q.a.Text,{children:e.description}),Object(p.jsxs)(q.a.Text,{children:["Price: $",e.price]})]})]})};var L=function(t){var e=t.Items;return Object(p.jsx)(B.a,{xs:1,md:2,lg:3,children:e.map((function(t,e){return Object(p.jsx)(E.a,{children:Object(p.jsx)(A,{item:t})},e)}))})};var w=function(){var t=Object(a.useState)([]),e=Object(f.a)(t,2),c=e[0],n=e[1],r=Object(o.f)().category;return Object(a.useEffect)((function(){var t=S();(r?t.collection("items").where("category","==",r):t.collection("items")).get().then((function(t){0===t.size&&console.log("No results"),n(t.docs.map((function(t){return Object(C.a)({id:t.id},t.data())})))})).catch((function(t){console.log("Error searching items",t)})).finally((function(){}))}),[r]),Object(p.jsx)(k.a,{children:Object(p.jsx)(L,{Items:c})})},P=c(92),D=c(59);c(53);var F=function(t){var e=t.stock,c=t.initial,n=t.onAdd,r=Object(a.useState)(c),i=Object(f.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)(!1),l=Object(f.a)(j,2),b=l[0],d=l[1],u=Object(a.useState)(!0),O=Object(f.a)(u,2),x=O[0],h=O[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),v=g[0],y=g[1];function I(t){"plus"===t&&s<e?o(s+1):"minus"===t&&s>1&&o(s-1)}return Object(a.useEffect)((function(){0===s?o(1):s>e&&e>0&&o(e),h(s<=1),d(!(s<=e-1)),y(!(e>=s&&s>0))}),[s,e]),Object(p.jsxs)(P.a,{children:[Object(p.jsxs)(P.a.Row,{children:[Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)(D.a,{className:"btn btn-default btn-number",variant:"outline-secondary",onClick:function(t){return I("minus")},disabled:x,children:Object(p.jsx)("i",{className:"fas fa-minus"})})}),Object(p.jsx)(E.a,{xs:3,children:Object(p.jsx)(P.a.Control,{type:"input",value:s})}),Object(p.jsx)(E.a,{xs:2,children:Object(p.jsx)(D.a,{className:"btn btn-default btn-number",variant:"outline-secondary",onClick:function(t){return I("plus")},disabled:b,children:Object(p.jsx)("i",{className:"fas fa-plus"})})}),Object(p.jsx)(E.a,{xs:{span:4,offset:0},children:Object(p.jsx)(D.a,{variant:"dark",onClick:function(t){return n(t,s)},disabled:v,children:"Add to cart"})})]}),"Cur.Stock: ",e]})},U=function(t){var e=t.Item,c=Object(a.useState)(0),n=Object(f.a)(c,2),r=n[0],i=n[1],s=Object(a.useContext)(g).addItem,o="url("+e.pictureUrl+")";Object(a.useEffect)((function(){i(e.stock)}),[e.stock]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(q.a,{className:"itemDetail",children:[Object(p.jsx)(q.a.Header,{as:"h5",children:e.title}),Object(p.jsx)("div",{className:"itemDetailPicContainer",style:{backgroundImage:o}}),Object(p.jsxs)(q.a.Body,{children:[Object(p.jsxs)(q.a.Text,{children:["Product No: ",e.id]}),Object(p.jsxs)(q.a.Text,{children:["Description: ",e.description]}),Object(p.jsxs)(q.a.Text,{children:["Price: $",e.price]})]}),Object(p.jsx)(q.a.Footer,{children:Object(p.jsx)(F,{stock:r,initial:1,onAdd:function(t,c){t.preventDefault(),r-c>=0?(s(e,c),i(r-c)):alert("Sorry...\nNot enough stock")}})})]})})};var J=function(){var t=Object(a.useState)([]),e=Object(f.a)(t,2),c=e[0],n=e[1],r=Object(o.f)().id;return Object(a.useEffect)((function(){S().collection("items").doc(r).get().then((function(t){t.exists?(console.log("Item found"),n(Object(C.a)({id:t.id},t.data()))):console.log("Item does not exist - id: ",r)})).catch((function(t){console.log("Error searching items",t)})).finally((function(){}))}),[r]),Object(p.jsxs)(p.Fragment,{children:[console.log(c),Object(p.jsx)(U,{Item:c})]})};c(81);var $=function(){return Object(p.jsx)(k.a,{children:Object(p.jsx)("h2",{children:"This is the AboutUS Page"})})};var G=function(){var t=Object(a.useContext)(g),e=t.cart,c=t.removeItem,n=t.clearCart,r=t.getCartTotals;return Object(p.jsxs)(p.Fragment,{children:[e.map((function(t){return Object(p.jsxs)(q.a,{style:{marginTop:"5px"},children:[Object(p.jsx)(q.a.Header,{Header:!0,as:"h5",children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{children:t.Item.title}),Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)("i",{class:"fas fa-trash-alt",onClick:function(e){return c(t.Item.id)}})})]})}),Object(p.jsx)(q.a.Body,{children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)("div",{className:"cartPicContainer",children:Object(p.jsx)(q.a.Img,{src:""+t.Item.pictureUrl})})}),Object(p.jsxs)(E.a,{children:[Object(p.jsx)(q.a.Text,{children:t.Item.description}),Object(p.jsxs)(q.a.Text,{children:["Qty: ",t.qtyBuy," x Item Price: $",t.Item.price," = $ ",t.qtyBuy*t.Item.price]})]})]})})]})})),Object(p.jsx)(q.a.Footer,{className:"cartFooter",children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsxs)("h4",{children:["Total: $ ",r().total]})}),Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)(D.a,{variant:"success",disabled:!(e.length>0),children:"Go to Payment"})}),Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)(D.a,{variant:"danger",disabled:!(e.length>0),onClick:function(t){return n()},children:"Empty Cart"})})]})})]})};var H=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"Your cart is empty"}),Object(p.jsx)(s.b,{to:"/",children:Object(p.jsx)(D.a,{variant:"primary",children:"Back to Store"})})]})};c(82);var K=function(){var t=Object(a.useContext)(g),e=t.cart,c=t.getCartTotals;return Object(a.useEffect)((function(){}),[e]),Object(p.jsx)(k.a,{children:0===c().qty?Object(p.jsx)(H,{}):Object(p.jsx)(G,{})})};var Y=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(v,{children:Object(p.jsxs)(s.a,{children:[Object(p.jsx)(I,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",component:w}),Object(p.jsx)(o.a,{path:"/AboutUs",component:$}),Object(p.jsx)(o.a,{path:"/Cart",component:K}),Object(p.jsx)(o.a,{path:"/itemDetail/:id?",component:J}),Object(p.jsx)(o.a,{path:"/itemList/:category?",component:w})]})]})})})};i.a.render(Object(p.jsx)(Y,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.210a2868.chunk.js.map