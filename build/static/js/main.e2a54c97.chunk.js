(this["webpackJsonpch-react-app"]=this["webpackJsonpch-react-app"]||[]).push([[0],{54:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){},73:function(e){e.exports=JSON.parse('[{"lang":"en","products":"Products","woman":"Woman","man":"Man","kids":"Kids","all":"All","aboutus":"About Us","description":"Description","price":"Price","add_to_cart":"Add to cart","checkout":"Checkout","cart_err":"Please check the following errors:","cart_err_name":"enter your Name","cart_err_phone":"enter your phone","cart_err_email":"enter your email","cart_err_email_invalid":"email not valid","cart_err_empty_cart":"your cart is empty","empty_cart":"Empty Cart","name":"Name","name_hint":"Your name","phone":"Phone","phone_hint":"Your phone","email":"Email","email_hint":"Your email","save":"Save Order","your_order":"Your Order","your_order_id_hint":"Save order...","your_order_comments_hint":"Order comments","items":"items","total":"Total","aboutus_text":"This is the AboutUS Page","empty_cart_msg":"Your cart is empty","Back_to_store":"Back to store","quantity":"Quantity","stock_limit_msg":"The following items were removed due to stock limitations:"},{"lang":"es","products":"Productos","woman":"Mujer","man":"Hombre","kids":"Ni\xf1os","all":"Todos","aboutus":"Conocenos","description":"Descripci\xf3n","price":"Precio","add_to_cart":"Agregar al Carro","checkout":"Finalizar Compra","cart_err":"Por favor verificar los siguientes errores:","cart_err_name":"ingrese su nombre","cart_err_phone":"ingrese su tel\xe9fono","cart_err_email":"ingrese su email","cart_err_email_invalid":"email no v\xe1lido","cart_err_empty_cart":"su carrito esta vac\xedo","empty_cart":"Vaciar Carro","name":"Nombre","name_hint":"Su nombre","phone":"Tel\xe9fono","phone_hint":"Su tel\xe9fono","email":"Email","email_hint":"Su email","save":"Grabar Pedido","your_order":"Su Pedido","your_order_id_hint":"Grabar pedido...","your_order_comments_hint":"Comentarios de la orden","items":"items","total":"Total","aboutus_text":"Conocenos","empty_cart_msg":"Su carrito esta vac\xedo","Back_to_store":"Volver a la tienda","quantity":"Cantidad","stock_limit_msg":"Los siguientes items fueron eliminados por faltante de stock:"}]')},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),i=(a(68),a(10)),o=a(9),l=a(12),u=a(59),d=a(31),j=a.n(d),m=a(52),b=a(45),h=a(26),O=(a(55),h.a.initializeApp({apiKey:"AIzaSyDLJBCwL-TKgATNGc6T2s2cveKqSJD9kAE",authDomain:"diegoberlingieri-77aa6.firebaseapp.com",projectId:"diegoberlingieri-77aa6",storageBucket:"diegoberlingieri-77aa6.appspot.com",messagingSenderId:"169923766283",appId:"1:169923766283:web:7377f17cf98b7fe298ff0e"}));function x(){return(x=Object(b.a)(j.a.mark((function e(t){var a,n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:"",items:[]},n=h.a.firestore(O),r=null,r=t?n.collection("items").where("category","==",t):n.collection("items"),e.prev=4,e.next=7,r.get();case 7:c=e.sent,a.items=c.docs.map((function(e){return Object(m.a)({id:e.id},e.data())})),a.status="success",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),a.status="fail";case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function p(){return(p=Object(b.a)(j.a.mark((function e(t){var a,n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:"",item:null},n=h.a.firestore(O),r=n.collection("items").doc(t),e.prev=3,e.next=6,r.get();case 6:(c=e.sent).exists?(a.status="success",a.item=Object(m.a)({id:c.id},c.data())):a.status="empty",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.status="fail";case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function f(){return(f=Object(b.a)(j.a.mark((function e(t){var a,n,r,c,s,i,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={status:"",orderId:"",removedItems:[]},n=h.a.firestore(O),i=[],o=0;case 4:if(!(o<t.items.length)){e.next=14;break}return s=n.collection("items").doc(t.items[o].id),e.next=8,s.get();case 8:r=e.sent,(c=r.data().stock)>=t.items[o].quantity?(c-=t.items[o].quantity,s.update({stock:c}),i.push(t.items[o])):a.removedItems.push(t.items[o]);case 11:o++,e.next=4;break;case 14:return t.items=i,l=n.collection("orders"),e.prev=16,e.next=19,l.add(t);case 19:(r=e.sent).id?(a.status="success",a.orderId=r.id):a.status="fail",e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),a.status="fail";case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e,null,[[16,23]])})))).apply(this,arguments)}a(71);var g=a(89),v=a(58),y=a(18),_=a(2),I=r.a.createContext();function C(e){var t=Object(n.useState)([]),r=Object(l.a)(t,2),c=r[0],s=r[1];function i(e){new Promise((function(e,t){e(a(73))})).then((function(t){var a=t.find((function(t){return t.lang===e}));return a||(console.log("Browser language not found. Setting english as default"),a=t.find((function(e){return"en"===e.lang}))),a})).then((function(e){return s(e)}))}return Object(n.useEffect)((function(){i(e.langId)}),[e.langId]),Object(_.jsx)(I.Provider,{value:{lang:c,updateLanguageById:i},children:e.children})}var k=function(e){var t=e.item,a=Object(n.useContext)(I).lang;return Object(_.jsxs)(y.a,{style:{width:"18rem",marginTop:"20px"},children:[Object(_.jsx)(i.b,{to:"/itemDetail/"+t.id,children:Object(_.jsx)(y.a.Img,{variant:"top",src:t.cloudinary})}),Object(_.jsxs)(y.a.Body,{children:[Object(_.jsx)(y.a.Title,{children:t.title}),Object(_.jsx)(y.a.Text,{children:t.description}),Object(_.jsxs)(y.a.Text,{children:[a.price,": $",t.price]})]})]})};var B=function(e){var t=e.Items;return Object(_.jsx)(g.a,{xs:1,md:2,lg:3,children:t.map((function(e,t){return Object(_.jsx)(v.a,{children:Object(_.jsx)(k,{item:e})},t)}))})};var S=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(o.f)().category;return Object(n.useEffect)((function(){(function(e){return x.apply(this,arguments)})(c).then((function(e){"success"===e.status&&r(e.items)}))}),[c]),Object(_.jsx)(u.a,{children:Object(_.jsx)(B,{Items:a})})},w=a(63),E=r.a.createContext();function N(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(_.jsx)(E.Provider,{value:{cart:r,setCart:c,clearCart:function(){c([])},removeItem:function(e){for(var t=[],a=0;a<r.length;a++)r[a].Item.id!==e&&t.push(r[a]);c(t)},addItem:function(e,t){for(var a=0;a<r.length;a++)r[a].Item.id===e.id&&(t+=r[a].qtyBuy,r.splice(a,1));c([].concat(Object(w.a)(r),[{Item:e,qtyBuy:t}]))},getCartTotals:function(){for(var e=0,t=0,a=0;a<r.length;a++)t+=r[a].Item.price*r[a].qtyBuy,e+=r[a].qtyBuy;return{total:t,qty:e}}},children:e.children})}var T=a(92),q=a(60);a(54);var L=function(e){var t=e.stock,a=e.initial,r=e.onAdd,c=Object(n.useContext)(I).lang,s=Object(n.useState)(a),i=Object(l.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(!1),j=Object(l.a)(d,2),m=j[0],b=j[1],h=Object(n.useState)(!0),O=Object(l.a)(h,2),x=O[0],p=O[1],f=Object(n.useState)(!1),g=Object(l.a)(f,2),y=g[0],C=g[1];function k(e){"plus"===e&&o<t?u(o+1):"minus"===e&&o>1&&u(o-1)}return Object(n.useEffect)((function(){0===o?u(1):o>t&&t>0&&u(t),p(o<=1),b(!(o<=t-1)),C(!(t>=o&&o>0))}),[o,t]),Object(_.jsxs)(T.a,{children:[Object(_.jsxs)(T.a.Row,{children:[Object(_.jsx)(v.a,{xs:"auto",children:Object(_.jsx)(q.a,{className:"btn btn-default btn-number",variant:"outline-secondary",onClick:function(e){return k("minus")},disabled:x,children:Object(_.jsx)("i",{className:"fas fa-minus"})})}),Object(_.jsx)(v.a,{xs:3,children:Object(_.jsx)(T.a.Control,{type:"input",value:o,readOnly:!0})}),Object(_.jsx)(v.a,{xs:2,children:Object(_.jsx)(q.a,{className:"btn btn-default btn-number",variant:"outline-secondary",onClick:function(e){return k("plus")},disabled:m,children:Object(_.jsx)("i",{className:"fas fa-plus"})})}),Object(_.jsx)(v.a,{xs:{span:4,offset:0},children:Object(_.jsx)(q.a,{variant:"dark",onClick:function(e){return r(e,o)},disabled:y,children:c.add_to_cart})})]}),"Cur.Stock: ",t]})},A=function(e){var t=e.Item,a=Object(n.useState)(0),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useContext)(E).addItem,o=Object(n.useContext)(I).lang;Object(n.useEffect)((function(){s(t.stock)}),[t.stock]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(y.a,{className:"itemDetail",children:[Object(_.jsx)(y.a.Header,{as:"h5",children:t.title}),Object(_.jsx)(y.a.Img,{variant:"top",className:"cardImage",src:t.cloudinary}),Object(_.jsxs)(y.a.Body,{children:[Object(_.jsxs)(y.a.Text,{children:[o.description,": ",t.description]}),Object(_.jsxs)(y.a.Text,{children:[o.price,": $",t.price]})]}),Object(_.jsx)(y.a.Footer,{children:Object(_.jsx)(L,{stock:c,initial:1,onAdd:function(e,a){e.preventDefault(),c-a>=0?(i(t,a),s(c-a)):alert("Sorry...\nNot enough stock")}})})]})})};var P=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(o.f)().id;return Object(n.useEffect)((function(){(function(e){return p.apply(this,arguments)})(c).then((function(e){"success"===e.status&&r(e.item)}))}),[c]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(A,{Item:a})})};a(79);var D=function(){var e=Object(n.useContext)(I).lang;return Object(_.jsx)(u.a,{children:Object(_.jsx)("h2",{children:e.aboutus_text})})};var F=function(){var e=Object(n.useContext)(E),t=e.cart,a=e.removeItem,r=e.clearCart,c=e.getCartTotals,s=Object(n.useContext)(I).lang;return Object(_.jsxs)(_.Fragment,{children:[t.map((function(e,t){return Object(_.jsxs)(y.a,{style:{marginTop:"5px"},children:[Object(_.jsx)(y.a.Header,{as:"h5",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(v.a,{children:e.Item.title}),Object(_.jsx)(v.a,{xs:"auto",children:Object(_.jsx)("i",{className:"fas fa-trash-alt",onClick:function(t){return a(e.Item.id)}})})]})}),Object(_.jsx)(y.a.Body,{children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(v.a,{xs:"auto",children:Object(_.jsx)("div",{className:"cartPicContainer",children:Object(_.jsx)(y.a.Img,{src:e.Item.cloudinary})})}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(y.a.Text,{children:e.Item.description}),Object(_.jsxs)(y.a.Text,{children:["Qty: ",e.qtyBuy," x Item Price: $",e.Item.price," = $ ",e.qtyBuy*e.Item.price]})]})]})})]},t)})),Object(_.jsx)(y.a.Footer,{className:"cartFooter",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(v.a,{xs:"auto",children:Object(_.jsxs)("h4",{children:[s.total,": $ ",c().total]})}),Object(_.jsx)(v.a,{xs:"auto",children:Object(_.jsx)(i.b,{to:"/checkout",children:Object(_.jsx)(q.a,{variant:"success",disabled:!(t.length>0),children:s.checkout})})}),Object(_.jsx)(v.a,{xs:"auto",children:Object(_.jsx)(q.a,{variant:"danger",disabled:!(t.length>0),onClick:function(e){return r()},children:s.empty_cart})})]})})]})};var G=function(){var e=Object(n.useContext)(I).lang;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{children:e.empty_cart_msg}),Object(_.jsx)(i.b,{to:"/",children:Object(_.jsx)(q.a,{variant:"primary",children:e.Back_to_store})})]})};a(80);var Y=function(){var e=Object(n.useContext)(E),t=e.cart,a=e.getCartTotals;return Object(n.useEffect)((function(){}),[t]),Object(_.jsx)(u.a,{children:0===a().qty?Object(_.jsx)(G,{}):Object(_.jsx)(F,{})})};var J=function(){var e=Object(n.useContext)(I).lang,t=Object(n.useContext)(E),a=t.cart,r=t.getCartTotals,c=t.clearCart,s=Object(n.useState)(),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(n.useState)(),m=Object(l.a)(j,2),b=m[0],O=m[1];return Object(_.jsx)(u.a,{children:Object(_.jsxs)(T.a,{children:[Object(_.jsxs)(T.a.Group,{children:[Object(_.jsx)(T.a.Label,{children:e.name}),Object(_.jsx)(T.a.Control,{type:"text",placeholder:e.name_hint,id:"nameId"})]}),Object(_.jsxs)(T.a.Group,{children:[Object(_.jsx)(T.a.Label,{children:e.phone}),Object(_.jsx)(T.a.Control,{type:"text",placeholder:e.phone_hint,id:"phoneId"})]}),Object(_.jsxs)(T.a.Group,{children:[Object(_.jsx)(T.a.Label,{children:e.email}),Object(_.jsx)(T.a.Control,{type:"email",placeholder:e.email_hint,id:"emailId"})]}),Object(_.jsx)(T.a.Group,{children:Object(_.jsx)(q.a,{variant:"success",onClick:function(){if(function(){var t=e.cart_err,a=!0;return""===document.getElementById("nameId").value&&(t=t+"\n- "+e.cart_err_name,a=!1),""===document.getElementById("phoneId").value&&(t=t+"\n- "+e.cart_err_phone,a=!1),""===document.getElementById("emailId").value&&(t=t+"\n- "+e.cart_err_email,a=!1),document.getElementById("emailId").value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)||(t=t+"\n- "+e.cart_err_email_invalid,a=!1),0===r().qty&&(t=t+"\n- "+e.cart_err_empty_cart,a=!1),!!a||(alert(t),!1)}()){for(var t={buyer:{name:document.getElementById("nameId").value,phone:document.getElementById("phoneId").value,email:document.getElementById("emailId").value},items:[],date:h.a.firestore.Timestamp.fromDate(new Date),total:r().total},n=0;n<a.length;n++)t.items.push({id:a[n].Item.id,title:a[n].Item.title,price:a[n].Item.price,quantity:a[n].qtyBuy});(function(e){return f.apply(this,arguments)})(t).then((function(t){if("success"===t.status&&(d(t.orderId),c(),document.getElementById("nameId").value="",document.getElementById("phoneId").value="",document.getElementById("emailId").value="",t.removedItems.length>0)){for(var a=e.stock_limit_msg,n=0;n<t.removedItems.length;n++)console.log(t.removedItems[n]),a=(a=a+"\n"+e.description+": "+t.removedItems[n].title)+"\n"+e.quantity+": "+t.removedItems[n].quantity;O(a)}}))}},children:e.save})}),Object(_.jsxs)(T.a.Group,{children:[Object(_.jsx)(T.a.Label,{children:e.your_order}),Object(_.jsx)(T.a.Control,{type:"text",placeholder:e.your_order_id_hint,value:o||"",readOnly:!0}),Object(_.jsx)(T.a.Control,{as:"textarea",placeholder:e.your_order_comments_hint,value:b||"",rows:10,readOnly:!0})]})]})})},$=[Object(_.jsx)(o.a,{exact:!0,path:"/",component:S},1),Object(_.jsx)(o.a,{path:"/AboutUs",component:D},2),Object(_.jsx)(o.a,{path:"/Cart",component:Y},3),Object(_.jsx)(o.a,{path:"/itemDetail/:id?",component:P},4),Object(_.jsx)(o.a,{path:"/itemList/:category?",component:S},5),Object(_.jsx)(o.a,{path:"/checkout",component:J},6)],z=a(91),U=a(93),H=a(90),K=(a(81),a.p+"static/media/mello-logo.2fc0f693.svg");a(82);var M=function(){var e=Object(n.useContext)(E).getCartTotals,t=Object(n.useContext)(I).lang;return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(i.b,{to:e().qty>0?"/cart/":"#",className:e().qty>0?"cartQty":"disabledCart",children:[e().qty," ",t.items,Object(_.jsx)("i",{className:"fas fa-shopping-cart"})]})})};var Q=function(){var e=Object(n.useContext)(I),t=e.lang,a=e.updateLanguageById;return Object(_.jsxs)(z.a,{bg:"dark",expand:"sm",variant:"dark",fixed:"top",children:[Object(_.jsxs)(z.a.Brand,{as:i.b,to:"/",children:[Object(_.jsx)("img",{src:K,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"}),"MELLO"]}),Object(_.jsx)(z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(_.jsxs)(z.a.Collapse,{id:"basic-navbar-nav",children:[Object(_.jsxs)(U.a,{className:"mr-auto",children:[Object(_.jsxs)(H.a,{title:t.products,id:"basic-nav-dropdown",children:[Object(_.jsx)(H.a.Item,{as:i.b,to:"/itemList/YkySayoe2bOPZOJOESaX",children:t.woman}),Object(_.jsx)(H.a.Item,{as:i.b,to:"/itemList/GLwUh5g2YwhJWCvQH9S3",children:t.man}),Object(_.jsx)(H.a.Item,{as:i.b,to:"/itemList/iLLAVMN3YiEgF3EGNex8",children:t.kids}),Object(_.jsx)(H.a.Divider,{}),Object(_.jsx)(H.a.Item,{as:i.b,to:"/itemList",children:t.all})]}),Object(_.jsx)(U.a.Link,{as:i.b,to:"/AboutUs",children:t.aboutus})]}),Object(_.jsxs)(H.a,{className:"navbar-drop-lang",title:Object(_.jsx)("i",{className:"fas fa-globe",children:Object(_.jsx)("div",{className:"lang-tag",children:t.lang})}),children:[Object(_.jsx)(H.a.Item,{onClick:function(e){return a("en")},children:"English"}),Object(_.jsx)(H.a.Item,{onClick:function(e){return a("es")},children:"Espa\xf1ol"})]}),Object(_.jsx)(M,{})]})]})};var Z=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(N,{children:Object(_.jsx)(C,{langId:navigator.language.substring(0,2),children:Object(_.jsxs)(i.a,{children:[Object(_.jsx)(Q,{}),Object(_.jsx)(o.c,{children:$})]})})})})};s.a.render(Object(_.jsx)(Z,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.e2a54c97.chunk.js.map