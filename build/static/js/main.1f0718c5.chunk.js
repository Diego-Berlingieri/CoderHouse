(this["webpackJsonpch-react-app"]=this["webpackJsonpch-react-app"]||[]).push([[0],{52:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},73:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(25),s=c.n(r),i=(c(70),c(11)),o=c(9),j=c(54),l=c(55),d=c(65),b=c(63),u=c(91),O=c(93),x=c(90),h=(c(71),c.p+"static/media/mello-logo.2fc0f693.svg"),m=c(64),f=c(15),p=c(2),g=n.a.createContext();function v(e){var t=Object(a.useState)([]),c=Object(f.a)(t,2),n=c[0],r=c[1];return Object(p.jsx)(g.Provider,{value:{cart:n,setCart:r,clearCart:function(){r([])},removeItem:function(e){for(var t=[],c=0;c<n.length;c++)n[c].Item.id!==e&&t.push(n[c]);r(t)},addItem:function(e,t){for(var c=0;c<n.length;c++)n[c].Item.id===e.id&&(t+=n[c].qtyBuy,n.splice(c,1));r([].concat(Object(m.a)(n),[{Item:e,qtyBuy:t}]))},getCartTotals:function(){for(var e=0,t=0,c=0;c<n.length;c++)t+=n[c].Item.price*n[c].qtyBuy,e+=n[c].qtyBuy;return{total:t,qty:e}}},children:e.children})}c(73);var y=function(){var e=Object(a.useContext)(g).getCartTotals;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(i.b,{to:e().qty>0?"/cart/":"#",className:e().qty>0?"cartQty":"disabledCart",children:[e().qty," items",Object(p.jsx)("i",{className:"fas fa-shopping-cart"})]})})},I=function(e){Object(d.a)(c,e);var t=Object(b.a)(c);function c(){return Object(j.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(p.jsxs)(u.a,{bg:"dark",expand:"sm",variant:"dark",fixed:"top",children:[Object(p.jsxs)(u.a.Brand,{as:i.b,to:"/",children:[Object(p.jsx)("img",{src:h,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"}),"MELLO"]}),Object(p.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(p.jsxs)(O.a,{className:"mr-auto",children:[Object(p.jsxs)(x.a,{title:"Products",id:"basic-nav-dropdown",children:[Object(p.jsx)(x.a.Item,{as:i.b,to:"/itemList/YkySayoe2bOPZOJOESaX",children:"Woman"}),Object(p.jsx)(x.a.Item,{as:i.b,to:"/itemList/GLwUh5g2YwhJWCvQH9S3",children:"Man"}),Object(p.jsx)(x.a.Item,{as:i.b,to:"/itemList/iLLAVMN3YiEgF3EGNex8",children:"Kids"}),Object(p.jsx)(x.a.Divider,{}),Object(p.jsx)(x.a.Item,{as:i.b,to:"/itemList",children:"All"})]}),Object(p.jsx)(O.a.Link,{as:i.b,to:"/AboutUs",children:"About Us"})]}),Object(p.jsx)(y,{})]})]})}}]),c}(a.Component),C=c(43),k=c(62),S=c(37),T=(c(53),S.a.initializeApp({apiKey:"AIzaSyDLJBCwL-TKgATNGc6T2s2cveKqSJD9kAE",authDomain:"diegoberlingieri-77aa6.firebaseapp.com",projectId:"diegoberlingieri-77aa6",storageBucket:"diegoberlingieri-77aa6.appspot.com",messagingSenderId:"169923766283",appId:"1:169923766283:web:7377f17cf98b7fe298ff0e"}));function B(){return S.a.firestore(T)}c(81);var N=c(89),E=c(61),L=c(18),q=function(e){var t=e.item;return Object(p.jsxs)(L.a,{style:{width:"18rem",marginTop:"20px"},children:[Object(p.jsx)(i.b,{to:"/itemDetail/"+t.id,children:Object(p.jsx)(L.a.Img,{variant:"top",src:t.cloudinary})}),Object(p.jsxs)(L.a.Body,{children:[Object(p.jsx)(L.a.Title,{children:t.title}),Object(p.jsx)(L.a.Text,{children:t.description}),Object(p.jsxs)(L.a.Text,{children:["Price: $",t.price]})]})]})};var A=function(e){var t=e.Items;return Object(p.jsx)(N.a,{xs:1,md:2,lg:3,children:t.map((function(e,t){return Object(p.jsx)(E.a,{children:Object(p.jsx)(q,{item:e})},t)}))})};var w=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),c=t[0],n=t[1],r=Object(o.f)().category;return Object(a.useEffect)((function(){var e=B();(r?e.collection("items").where("category","==",r):e.collection("items")).get().then((function(e){0===e.size&&console.log("No results"),n(e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())})))})).catch((function(e){console.log("Error searching items",e)})).finally((function(){}))}),[r]),Object(p.jsx)(k.a,{children:Object(p.jsx)(A,{Items:c})})},D=c(92),F=c(59);c(52);var P=function(e){var t=e.stock,c=e.initial,n=e.onAdd,r=Object(a.useState)(c),s=Object(f.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(!1),l=Object(f.a)(j,2),d=l[0],b=l[1],u=Object(a.useState)(!0),O=Object(f.a)(u,2),x=O[0],h=O[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),v=g[0],y=g[1];function I(e){"plus"===e&&i<t?o(i+1):"minus"===e&&i>1&&o(i-1)}return Object(a.useEffect)((function(){0===i?o(1):i>t&&t>0&&o(t),h(i<=1),b(!(i<=t-1)),y(!(t>=i&&i>0))}),[i,t]),Object(p.jsxs)(D.a,{children:[Object(p.jsxs)(D.a.Row,{children:[Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)(F.a,{className:"btn btn-default btn-number",variant:"outline-secondary",onClick:function(e){return I("minus")},disabled:x,children:Object(p.jsx)("i",{className:"fas fa-minus"})})}),Object(p.jsx)(E.a,{xs:3,children:Object(p.jsx)(D.a.Control,{type:"input",value:i,readOnly:!0})}),Object(p.jsx)(E.a,{xs:2,children:Object(p.jsx)(F.a,{className:"btn btn-default btn-number",variant:"outline-secondary",onClick:function(e){return I("plus")},disabled:d,children:Object(p.jsx)("i",{className:"fas fa-plus"})})}),Object(p.jsx)(E.a,{xs:{span:4,offset:0},children:Object(p.jsx)(F.a,{variant:"dark",onClick:function(e){return n(e,i)},disabled:v,children:"Add to cart"})})]}),"Cur.Stock: ",t]})},G=function(e){var t=e.Item,c=Object(a.useState)(0),n=Object(f.a)(c,2),r=n[0],s=n[1],i=Object(a.useContext)(g).addItem;Object(a.useEffect)((function(){s(t.stock)}),[t.stock]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(L.a,{className:"itemDetail",children:[Object(p.jsx)(L.a.Header,{as:"h5",children:t.title}),Object(p.jsx)(L.a.Img,{variant:"top",className:"cardImage",src:t.cloudinary}),Object(p.jsxs)(L.a.Body,{children:[Object(p.jsxs)(L.a.Text,{children:["Description: ",t.description]}),Object(p.jsxs)(L.a.Text,{children:["Price: $",t.price]})]}),Object(p.jsx)(L.a.Footer,{children:Object(p.jsx)(P,{stock:r,initial:1,onAdd:function(e,c){e.preventDefault(),r-c>=0?(i(t,c),s(r-c)):alert("Sorry...\nNot enough stock")}})})]})})};var Y=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),c=t[0],n=t[1],r=Object(o.f)().id;return Object(a.useEffect)((function(){B().collection("items").doc(r).get().then((function(e){e.exists?(console.log("Item found"),n(Object(C.a)({id:e.id},e.data()))):console.log("Item does not exist - id: ",r)})).catch((function(e){console.log("Error searching items",e)})).finally((function(){}))}),[r]),Object(p.jsxs)(p.Fragment,{children:[console.log(c),Object(p.jsx)(G,{Item:c})]})};c(82);var J=function(){return Object(p.jsx)(k.a,{children:Object(p.jsx)("h2",{children:"This is the AboutUS Page"})})};var U=function(){var e=Object(a.useContext)(g),t=e.cart,c=e.removeItem,n=e.clearCart,r=e.getCartTotals;return Object(p.jsxs)(p.Fragment,{children:[t.map((function(e){return Object(p.jsxs)(L.a,{style:{marginTop:"5px"},children:[Object(p.jsx)(L.a.Header,{Header:!0,as:"h5",children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(E.a,{children:e.Item.title}),Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)("i",{className:"fas fa-trash-alt",onClick:function(t){return c(e.Item.id)}})})]})}),Object(p.jsx)(L.a.Body,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)("div",{className:"cartPicContainer",children:Object(p.jsx)(L.a.Img,{src:e.Item.cloudinary})})}),Object(p.jsxs)(E.a,{children:[Object(p.jsx)(L.a.Text,{children:e.Item.description}),Object(p.jsxs)(L.a.Text,{children:["Qty: ",e.qtyBuy," x Item Price: $",e.Item.price," = $ ",e.qtyBuy*e.Item.price]})]})]})})]})})),Object(p.jsx)(L.a.Footer,{className:"cartFooter",children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsxs)("h4",{children:["Total: $ ",r().total]})}),Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)(i.b,{to:"/checkout",children:Object(p.jsx)(F.a,{variant:"success",disabled:!(t.length>0),children:"Checkout"})})}),Object(p.jsx)(E.a,{xs:"auto",children:Object(p.jsx)(F.a,{variant:"danger",disabled:!(t.length>0),onClick:function(e){return n()},children:"Empty Cart"})})]})})]})};var $=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"Your cart is empty"}),Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)(F.a,{variant:"primary",children:"Back to Store"})})]})};c(83);var H=function(){var e=Object(a.useContext)(g),t=e.cart,c=e.getCartTotals;return Object(a.useEffect)((function(){}),[t]),Object(p.jsx)(k.a,{children:0===c().qty?Object(p.jsx)($,{}):Object(p.jsx)(U,{})})};var K=function(){var e=Object(a.useContext)(g),t=e.cart,c=e.getCartTotals,n=e.clearCart,r=Object(a.useState)(),s=Object(f.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(B()),l=Object(f.a)(j,1)[0];return Object(p.jsx)(k.a,{children:Object(p.jsxs)(D.a,{children:[Object(p.jsxs)(D.a.Group,{children:[Object(p.jsx)(D.a.Label,{children:"Name"}),Object(p.jsx)(D.a.Control,{type:"text",placeholder:"Your name",id:"nameId"})]}),Object(p.jsxs)(D.a.Group,{children:[Object(p.jsx)(D.a.Label,{children:"Phone"}),Object(p.jsx)(D.a.Control,{type:"text",placeholder:"Your phone",id:"phoneId"})]}),Object(p.jsxs)(D.a.Group,{children:[Object(p.jsx)(D.a.Label,{children:"Email"}),Object(p.jsx)(D.a.Control,{type:"email",placeholder:"Your email",id:"emailId"})]}),Object(p.jsx)(D.a.Group,{children:Object(p.jsx)(F.a,{variant:"success",onClick:function(){for(var e={buyer:{name:document.getElementById("nameId").value,phone:document.getElementById("phoneId").value,email:document.getElementById("emailId").value},items:[],date:S.a.firestore.Timestamp.fromDate(new Date),total:c().total},a=0;a<t.length;a++)e.items.push({id:t[a].Item.id,title:t[a].Item.title,price:t[a].Item.price,quantity:t[a].qtyBuy});l.collection("orders").add(e).then((function(e){o(e.id),n()}))},children:"Save order"})}),Object(p.jsxs)(D.a.Group,{children:[Object(p.jsx)(D.a.Label,{children:"Your order is"}),Object(p.jsx)(D.a.Control,{type:"text",placeholder:"save order...",value:i,readOnly:!0})]})]})})};var z=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(v,{children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(I,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",component:w}),Object(p.jsx)(o.a,{path:"/AboutUs",component:J}),Object(p.jsx)(o.a,{path:"/Cart",component:H}),Object(p.jsx)(o.a,{path:"/itemDetail/:id?",component:Y}),Object(p.jsx)(o.a,{path:"/itemList/:category?",component:w}),Object(p.jsx)(o.a,{path:"/checkout",component:K})]})]})})})};s.a.render(Object(p.jsx)(z,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.1f0718c5.chunk.js.map